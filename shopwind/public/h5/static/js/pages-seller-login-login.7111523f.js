(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-seller-login-login"],{45505:function(n,e,t){"use strict";var o=t("bba7"),i=t.n(o);i.a},"4ce9":function(n,e,t){"use strict";t.r(e);var o=t("7f62"),i=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e["default"]=i.a},"5a58":function(n,e,t){"use strict";var o=t("f003"),i=t.n(o);i.a},"6ae0":function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return o}));var o={uniIcons:t("f7b7").default},i=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",[t("v-uni-view",{staticClass:"form",staticStyle:{"margin-top":"140rpx"}},[t("v-uni-view",{staticClass:"uni-flex uni-column mb10"},[t("v-uni-image",{staticClass:"logo",attrs:{src:"/static/images/sellerlogo.jpg",mode:"widthFix"}})],1),t("v-uni-view",{staticClass:"uni-flex uni-column pt10"},[t("v-uni-view",{staticClass:"uni-flex uni-row flex-middle pt10 pb10 mt10 item"},[t("v-uni-view",{staticClass:"f-18 mr5",staticStyle:{"margin-top":"4rpx"}},[t("v-uni-text",[n._v("+86")]),t("uni-icons",{attrs:{type:"arrowright"}})],1),t("v-uni-input",{staticClass:"flex-middle",attrs:{"placeholder-class":"placeholder",type:"number",maxlength:"11",placeholder:"请输入手机号"},model:{value:n.phone_mob,callback:function(e){n.phone_mob=e},expression:"phone_mob"}}),t("uni-icons",{directives:[{name:"show",rawName:"v-show",value:n.phone_mob,expression:"phone_mob"}],staticClass:"mr10",attrs:{type:"closeempty",size:"38"},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.clearInput.apply(void 0,arguments)}}})],1),"password"==n.logintype?t("v-uni-view",{staticClass:"uni-flex uni-row flex-middle pt10 pb10 mt10 item"},[t("v-uni-input",{staticClass:"flex-middle",attrs:{maxlength:"20",password:n.eyeclose,"placeholder-class":"placeholder",placeholder:"请输入密码"},model:{value:n.password,callback:function(e){n.password=e},expression:"password"}}),t("v-uni-text",{class:["iconfont f-gray uni-bold mr10 ml10",n.eyeclose?"iconicon-eye-close":"iconyanjing1"],on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.eyeclick.apply(void 0,arguments)}}})],1):t("v-uni-view",{staticClass:"uni-flex uni-row flex-middle pt10 pb10 mt10 item"},[t("v-uni-input",{staticClass:"flex-middle",attrs:{maxlength:"20","placeholder-class":"placeholder",placeholder:"请输入短信验证码"},model:{value:n.verifycode,callback:function(e){n.verifycode=e},expression:"verifycode"}}),n.seconds<=0?t("v-uni-text",{class:["iconfont ml10 f-red"],on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.sendcode.apply(void 0,arguments)}}},[n._v("获取验证码")]):t("v-uni-text",{class:["iconfont ml10 f-gray"]},[n._v(n._s(n.seconds)+"秒后重发")])],1),t("v-uni-view",{staticClass:"mt10 pt5 f-gray f-13"},[t("v-uni-view",{staticClass:"uni-flex uni-row flex-wrap"},[t("v-uni-label",{on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.agreement.apply(void 0,arguments)}}},[t("v-uni-checkbox",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:1==n.accord}}),t("v-uni-text",[n._v("我已阅读并同意")])],1),t("v-uni-navigator",{staticClass:"f-blue",attrs:{url:"/pages/article/detail?id=5","hover-class":"none"}},[n._v("《用户协议》")]),n._v("和"),t("v-uni-navigator",{staticClass:"f-blue",attrs:{url:"/pages/article/detail?id=6","hover-class":"none"}},[n._v("《隐私政策》")])],1)],1),t("v-uni-view",{staticClass:"mt10"},[t("v-uni-view",{staticClass:"mt10 mybutton f-white uni-center f-16",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.mblogin.apply(void 0,arguments)}}},[n._v("立即登录")])],1),t("v-uni-view",{staticClass:"mt10 pt5 f-15 f-blue uni-center"},["password"==n.logintype?t("v-uni-text",{on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.changelogin(e,"verifycode")}}},[n._v("验证码登录")]):t("v-uni-text",{on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.changelogin(e,"password")}}},[n._v("账号密码登录")])],1)],1)],1)],1)},a=[]},"7f62":function(n,e,t){"use strict";t("6a54");var o=t("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(t("a03c")),a=o(t("e21b")),c={data:function(){return{phone_mob:"",password:"",verifycode:"",logintype:"password",eyeclose:!0,seconds:0,platform:"",client:"",accord:0}},methods:{clearInput:function(){this.phone_mob=""},mblogin:function(n){a.default.mblogin(this,{logintype:this.logintype,requiresSeller:!0})},eyeclick:function(){this.eyeclose=!this.eyeclose},changelogin:function(n,e){this.logintype=e},sendcode:function(){var n=this;a.default.sendcode(this.phone_mob,(function(e){n.seconds=e}))},agreement:function(){this.accord=1==this.accord?0:1}},onLoad:function(n){this.platform=uni.getSystemInfoSync().platform},onShow:function(){i.default.verifyLogin(!1,!1,!0)&&i.default.redirect("/pages/seller/index/index")}};e.default=c},"836f":function(n,e,t){var o=t("c86c");e=o(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 此次放需要覆盖全局mian.css的样式  */uni-page-body[data-v-107154c0]{background-color:#fff}body.?%PAGE?%[data-v-107154c0]{background-color:#fff}",""]),n.exports=e},"99e8":function(n,e,t){var o=t("c86c");e=o(!1),e.push([n.i,"/**\r\n * @link https://www.shopwind.net/\r\n * @copyright Copyright (c) 2018 ShopWind Inc. All Rights Reserved.\r\n *\r\n * This is not free software. Do not use it for commercial purposes. \r\n * If you need commercial operation, please contact us to purchase a license.\r\n * @license https://www.shopwind.net/license/\r\n *\r\n * @Id login.css 2019.10.7 $\r\n * @author winder\r\n */uni-page-body>uni-view[data-v-107154c0]::before{background-color:#fff}.logo[data-v-107154c0]{width:%?160?%;height:%?160?%;margin:0 auto;border-radius:%?30?%}.form[data-v-107154c0]{padding:%?40?% %?60?% %?60?% %?60?%}.form .title[data-v-107154c0]{font-size:%?50?%;font-weight:500}.form .item[data-v-107154c0]{margin-top:%?24?%;border-bottom:%?1?% #dedede solid}.form .item uni-input[data-v-107154c0],\r\n.form .item .placeholder[data-v-107154c0]{font-size:%?36?%}.form .item .placeholder[data-v-107154c0]{color:#b4b4b4}.wxlogin[data-v-107154c0],\r\n.qqlogin[data-v-107154c0],\r\n.applelogin[data-v-107154c0]{width:%?90?%;height:%?90?%;line-height:%?90?%;border-radius:50%;margin:0 %?30?%}.wxlogin[data-v-107154c0]{background-color:#04be02;padding:0}.wxlogin[data-v-107154c0]::after{border:0}.qqlogin[data-v-107154c0]{background-color:#24c9fd}.alipaylogin .iconfont[data-v-107154c0]{font-size:%?90?%;line-height:%?56?%}.applelogin[data-v-107154c0]{background-color:#000}.applelogin .iconfont[data-v-107154c0]{color:#fff;font-size:%?60?%;line-height:%?86?%}",""]),n.exports=e},bba7:function(n,e,t){var o=t("836f");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var i=t("967d").default;i("b08fa0da",o,!0,{sourceMap:!1,shadowMode:!1})},e21b:function(n,e,t){"use strict";var o=t("f5bd").default;t("e838");var i=o(t("8e1d")),a=o(t("a03c"));function c(n){uni.showToast({title:"登录中...",icon:"loading",duration:5e4}),n.terminal=function(){return"H5"}();var e=uni.getStorageSync("visitor")||{};e.userid&&"password"!=n.logintype&&"verifycode"!=n.logintype?s(n):i.default.request("auth/login",n,(function(e){if(0==e.code&&e.data){var t=e.data;if(n.requiresSeller&&!t.user_info.store_id)return uni.showModal({title:"提示",content:"对不起，您还不是卖家",showCancel:!1}),!1;uni.setStorageSync("access_token",t.token),uni.setStorageSync("visitor",t.user_info),uni.hideToast(),uni.showToast({title:"登录成功",duration:1e3,complete:function(){var n=uni.getStorageSync("redirect");setTimeout((function(){a.default.redirect(n)}),1e3),uni.removeStorageSync("redirect")}})}else e.message&&uni.showToast({title:e.message,icon:"none",duration:5e3})}))}function s(n){i.default.request("user/bind",n,(function(n){if(0==n.code){var e=uni.getStorageSync("visitor")||{};uni.setStorageSync("visitor",Object.assign(e,{openid:n.data.weixin})),uni.showToast({title:"绑定成功",duration:1e3,complete:function(){var n=uni.getStorageSync("redirect");setTimeout((function(){a.default.redirect(a.default.isEmpty(n)?"/pages/my/setting/index":n)}),1e3),uni.removeStorageSync("redirect")}})}else n.message&&uni.showToast({title:n.message,icon:"none",duration:1e3,complete:function(){setTimeout((function(){a.default.redirect("/pages/my/setting/index")}),1e3)}})}))}n.exports={site:
/**
 * @link https://www.shopwind.net/
 * @copyright Copyright (c) 2018 ShopWind Inc. All Rights Reserved.
 *
 * This is not free software. Do not use it for commercial purposes. 
 * If you need commercial operation, please contact us to purchase a license.
 * @license https://www.shopwind.net/license/
 *
 * @Id login.js 2019.10.9 $
 * @author winder
 */
function(n){i.default.request("site/read",null,(function(n){n.code}))},login:c,bind:s,mblogin:function(n,e){1==n.accord?("password"==n.logintype?(e.phone_mob=n.phone_mob,e.password=n.password):"verifycode"==n.logintype&&(e.phone_mob=n.phone_mob,e.verifycode=n.verifycode,e.verifycodekey=uni.getStorageSync("smsverifycodekey")),c(e)):uni.showModal({title:"提示",content:"请勾选并同意《用户协议》和《隐私政策》",showCancel:!1})},unilogin:function(n,e){if(1==n.accord){var t=Math.floor(parseFloat(uni.getSystemInfoSync().system));"apple"==e.logintype&&t<13?uni.showModal({title:"提示",content:"iOS13及以上系统版本才支持苹果登录",showCancel:!1}):uni.login({provider:e.logintype,success:function(){uni.getUserInfo({provider:e.logintype,lang:"zh_CN",success:function(n){var t=n.userInfo;Object.assign(e,{unionid:t.unionId?t.unionId:t.openId?t.openId:"",openid:t.openId?t.openId:"",portrait:t.avatarUrl,nickname:t.fullName?t.fullName.familyName+t.fullName.givenName:t.nickName}),c(e)},fail:function(n){uni.showModal({title:"提示",content:n.errMsg,showCancel:!1})}})},fail:function(n){uni.showModal({title:"提示",content:n.errMsg,showCancel:!1})}})}else uni.showModal({title:"提示",content:"请勾选并同意《用户协议》和《隐私政策》",showCancel:!1})},weblogin:function(n,e){1==n.accord?i.default.request("auth/connect",Object.assign(e,{callback:a.default.siteUrl()+"/pages/connect/callback"}),(function(n){0==n.code&&n.data&&(location.href=n.data.redirect)})):uni.showModal({title:"提示",content:"请勾选并同意《用户协议》和《隐私政策》",showCancel:!1})},sendcode:function(n,e,t){i.default.request("sms/send",{phone_mob:n,purpose:"verifycode"},(function(n){0==n.code?(uni.setStorageSync("smsverifycodekey",n.data.codekey),uni.showToast({title:n.message,success:function(){a.default.countDown(e,t)}})):uni.showToast({title:n.message,icon:"none"})}),!1)}}},e29d:function(n,e,t){"use strict";t.r(e);var o=t("6ae0"),i=t("4ce9");for(var a in i)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(a);t("5a58"),t("45505");var c=t("828b"),s=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"107154c0",null,!1,o["a"],void 0);e["default"]=s.exports},f003:function(n,e,t){var o=t("99e8");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);var i=t("967d").default;i("b79ee6dc",o,!0,{sourceMap:!1,shadowMode:!1})}}]);