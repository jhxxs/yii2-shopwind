(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-deposit-trade-drawal"],{"0d31":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var i={uniIcons:e("f7b7").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"bgf pt5"},[e("uni-icons",{staticClass:"ml10 absolute pt5",attrs:{type:"closeempty",size:"44",color:"gray"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.close.apply(void 0,arguments)}}}),e("v-uni-view",{class:["uni-center f-16 pt10",t.desc?"":"pb10"]},[t._v(t._s(t.title))]),t.desc?e("v-uni-view",{staticClass:"f-gray f-13 uni-center pb10"},[t._v(t._s(t.desc))]):t._e(),e("v-uni-scroll-view",{staticStyle:{height:"700rpx"},attrs:{"scroll-x":!1,"scroll-y":!0}},[t._l(t.banks,(function(n,i){return e("v-uni-view",{key:i,staticClass:"uni-flex uni-row ml10 mr10 pt10 pb10 bt flex-middle width-between",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm(e,n)}}},[e("v-uni-view",{staticClass:"uni-flex uni-row flex-middle f-16"},[e("v-uni-text",{class:["iconfont",n.code],staticStyle:{"font-size":"60rpx"}}),e("v-uni-text",{staticClass:"mr10 ml10"},[t._v(t._s(n.bank))]),n.account&&"wxpay"!=n.code?e("v-uni-text",[t._v("("+t._s(n.account)+")")]):t._e()],1),e("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.selected.code==n.code&&t.selected.account==n.account,expression:"selected.code == item.code && selected.account == item.account"}],staticClass:"mr10",attrs:{type:"checkmarkempty",size:"40",color:"#fc2b34"}})],1)})),t.showAdd?e("v-uni-navigator",{staticClass:"pd10 bt mg5",attrs:{url:"/pages/my/bank/build","hover-class":"none"}},[e("v-uni-view",{staticClass:"uni-flex uni-row flex-middle f-16 pd5"},[t._v("添加提现银行卡")])],1):t._e()],2)],1)],1)},o=[]},1706:function(t,n,e){"use strict";e.r(n);var i=e("0d31"),a=e("1e37");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);var s=e("828b"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);n["default"]=u.exports},"1e0f":function(t,n,e){"use strict";e.r(n);var i=e("926f"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},"1e37":function(t,n,e){"use strict";e.r(n);var i=e("f9bc"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},"538a":function(t,n,e){var i=e("d225");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("967d").default;a("777d4e03",i,!0,{sourceMap:!1,shadowMode:!1})},"5ab1":function(t,n,e){"use strict";var i=e("538a"),a=e.n(i);a.a},6628:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var i={uniIcons:e("f7b7").default,uniPopup:e("9b8e3").default,myPopupBank:e("1706").default,myPopupPay:e("ec4b").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"wraper ml10 mr10 mt10"},[e("v-uni-view",{staticClass:"uni-flex uni-row width-between bank"},[e("v-uni-text",{staticClass:"f-15 mr10"},[t._v("提现到")]),t.banks.length>0?e("v-uni-view",{staticClass:"uni-flex uni-row width-surplus",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.showPopup(n,"bank")}}},[e("v-uni-view",{staticClass:"uni-flex uni-column width-surplus ml10"},[e("v-uni-view",{staticClass:"uni-flex uni-row flex-middle"},[e("v-uni-text",{class:["iconfont f-15",t.bank.code]}),e("v-uni-view",{staticClass:"ml5 f-15"},[e("v-uni-text",[t._v(t._s(t.bank.bank))]),t.bank.account&&"wxpay"!=t.bank.code?e("v-uni-text",[t._v("("+t._s(t.bank.account.slice(-4))+")")]):t._e()],1)],1),e("v-uni-text",{staticClass:"f-gray"},[t._v("24小时内到账")])],1),e("uni-icons",{attrs:{type:"arrowright",color:"gray"}})],1):e("v-uni-navigator",{staticClass:"uni-flex uni-row width-surplus",attrs:{url:"/pages/my/bank/build","hover-class":"none"}},[e("v-uni-view",{staticClass:"uni-flex uni-column width-surplus ml10"},[e("v-uni-text",{staticClass:"f-15"},[t._v("暂无提现银行卡")]),e("v-uni-text",{staticClass:"f-gray"},[t._v("前往设置")])],1),e("uni-icons",{attrs:{type:"arrowright",color:"gray"}})],1)],1),e("v-uni-view",{staticClass:"pd10 bgf",staticStyle:{padding:"40rpx"}},["alipay"==t.bank.code?e("v-uni-view",{staticClass:"uni-flex uni-column mb10"},[e("v-uni-text",{staticClass:"ml5"},[t._v("支付宝账户")]),e("v-uni-input",{staticClass:"bgp round-edge pd10 mt10 width-surplus uni-bold",model:{value:t.bank.account,callback:function(n){t.$set(t.bank,"account",n)},expression:"bank.account"}})],1):t._e(),"alipay"==t.bank.code||"wxpay"==t.bank.code?e("v-uni-view",{staticClass:"uni-flex uni-column mb10"},[e("v-uni-text",{staticClass:"ml5"},[t._v("核对姓名")]),e("v-uni-input",{staticClass:"bgp round-edge pd10 mt10 width-surplus",attrs:{placeholder:"微信实名认证的真实姓名"},model:{value:t.bank.name,callback:function(n){t.$set(t.bank,"name",n)},expression:"bank.name"}})],1):t._e(),e("v-uni-view",{staticClass:"uni-flex uni-column"},[e("v-uni-text",{staticClass:"ml10"},[t._v("提现金额")]),e("v-uni-view",{staticClass:"uni-flex uni-row ml10 pt10 pb10 flex-middle money"},[e("v-uni-text",{staticClass:"uni-bold mr10 mt10"},[t._v("￥")]),e("v-uni-input",{staticClass:"width-surplus uni-bold mt10",attrs:{type:"digit",maxlength:"10"},model:{value:t.money,callback:function(n){t.money=n},expression:"money"}})],1),e("v-uni-view",{staticClass:"f-gray ml10 pt10 pb10 bt",staticStyle:{"padding-top":"40rpx"}},[e("v-uni-text",[t._v("余额 "+t._s(t.deposit.money||"0.00")+"元")]),t.deposit.nodrawal>0?e("v-uni-text",[t._v("，其中"+t._s(t.deposit.nodrawal)+"不可提现")]):t._e(),e("v-uni-text",{staticClass:"f-blue ml10",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.drawal.apply(void 0,arguments)}}},[t._v("全部提现")])],1)],1),e("v-uni-view",{staticClass:"f-white pd10 uni-center f-16 mt10 mb10 uni-bold mybutton",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.submit.apply(void 0,arguments)}}},[t._v("确认提现")])],1),e("v-uni-view",{staticClass:"uni-center pd10 f-gray f-12"},[t._v("客服热线："+t._s(t.siteinfo.site_tel||""))]),e("uni-popup",{ref:"bank",attrs:{type:"bottom"}},[e("my-popup-bank",{attrs:{banks:t.banks,selected:t.bank},on:{close:function(n){arguments[0]=n=t.$handleEvent(n),t.close.apply(void 0,arguments)},confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.confirm.apply(void 0,arguments)}}})],1),e("uni-popup",{ref:"pay",attrs:{type:"dialog"}},[e("my-popup-pay",{attrs:{title:"提现",cancelText:"忘记密码?"},on:{cancel:function(n){arguments[0]=n=t.$handleEvent(n),t.cancel.apply(void 0,arguments)},confirm:function(n){arguments[0]=n=t.$handleEvent(n),t.payment.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-flex uni-column uni-center pd10 ml5 mr5"},[e("p",{staticClass:"uni-bold f-25"},[t._v(t._s(t._f("currency")(t.money)))]),t.setting.drawal_rate>0?e("p",{staticClass:"uni-flex uni-row bt width-between pt5 mt10 f-gray"},[e("v-uni-text",[t._v("手续费")]),e("v-uni-text",[t._v(t._s(t._f("currency")(t.money*(t.setting.drawal_rate||0))))])],1):t._e(),t.setting.drawal_rate>0?e("p",{staticClass:"uni-flex uni-row width-between f-gray"},[e("v-uni-text",[t._v("费率")]),e("v-uni-text",[t._v(t._s(100*(t.setting.drawal_rate||0))+"%")])],1):t._e()])],1)],1)],1)],1)},o=[]},8042:function(t,n,e){var i=e("c86c");n=i(!1),n.push([t.i,".wraper[data-v-520b5e9f]{box-shadow:%?0?% %?0?% %?30?% %?0?% #e8e8e8}.bank[data-v-520b5e9f]{padding:%?60?%;background-color:#f6f6f7}.money uni-text[data-v-520b5e9f]{font-size:%?60?%}.money uni-input[data-v-520b5e9f]{font-size:%?80?%;height:%?80?%}.mybutton[data-v-520b5e9f]{border-radius:%?16?%;background-image:linear-gradient(90deg,#29ae67,#2aae67)}[data-v-520b5e9f] .uni-dialog-content{background-color:#f1f1f1}",""]),t.exports=n},8997:function(t,n,e){"use strict";var i=e("f5bd").default;e("aa9c"),e("bf0f"),e("2797");var a=i(e("8e1d")),o=i(e("a03c"));t.exports={deposit:
/**
 * @link https://www.shopwind.net/
 * @copyright Copyright (c) 2018 ShopWind Inc. All Rights Reserved.
 *
 * This is not free software. Do not use it for commercial purposes. 
 * If you need commercial operation, please contact us to purchase a license.
 * @license https://www.shopwind.net/license/
 *
 * @Id drawal.js 2019.11.4 $
 * @author winder
 */
function(t){a.default.request("deposit/read",null,(function(n){0==n.code&&(t.deposit=n.data)}))},banks:function(t){var n=uni.getStorageSync("visitor")||{};a.default.request("bank/list",null,(function(e){if(0==e.code){var i=e.data.list||[];i.push({code:"alipay",bank:"支付宝钱包",account:"",name:""},{code:"wxpay",bank:"微信零钱",account:n.openid||"",name:""}),t.bank=i[0],t.banks=i}}))},setting:function(t){a.default.request("deposit/setting",null,(function(n){0==n.code&&(t.setting=n.data||{})}))},submit:function(t,n,e){a.default.request("deposit/drawal",{money:t.money,account:t.bank.account,name:t.bank.name,drawtype:"alipay"!=t.bank.code&&"wxpay"!=t.bank.code?"bank":t.bank.code,bank:t.bank.bank,password:n},(function(t){0==t.code?(uni.showModal({title:"提现申请提交成功",content:"平台审核通过后，将在24小时内将提现金额打入到您指定的账户中，请耐心等待！",showCancel:!1,success:function(){uni.navigateTo({url:"/pages/deposit/index/index"})}}),"function"==typeof e&&e()):uni.showToast({title:t.message,icon:"none"})}))},connect:function(t,n){a.default.request("auth/connect",Object.assign(n,{callback:o.default.siteUrl()+"/pages/login/callback"}),(function(t){0==t.code&&t.data&&(uni.setStorageSync("redirect",o.default.getUrl()),location.href=t.data.redirect)}))},siteinfo:function(t){a.default.request("site/read",null,(function(n){0==n.code&&(t.siteinfo=n.data||{})}))}}},9055:function(t,n,e){"use strict";e.r(n);var i=e("6628"),a=e("f0741");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("d8f9");var s=e("828b"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"520b5e9f",null,!1,i["a"],void 0);n["default"]=u.exports},"926f":function(t,n,e){"use strict";e("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={name:"uniPopupDialog",props:{title:{type:String,default:"请输入"},confimText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},beforeClose:{type:Boolean,default:!1}},data:function(){return{password:""}},inject:["popup"],created:function(){this.popup.mkclick=!1},methods:{confirm:function(){var t=this;this.$emit("confirm",(function(){t.popup.close()}),this.password)},close:function(){var t=this;this.beforeClose?this.$emit("close",(function(){t.popup.close()})):this.popup.close()},cancel:function(){var t=this;this.$emit("cancel",(function(){t.popup.close()}))},clearInput:function(t,n){this.password=""}}};n.default=i},9274:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return i}));var i={uniIcons:e("f7b7").default},a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"uni-popup-dialog"},[e("v-uni-view",{staticClass:"uni-dialog-title relative"},[e("v-uni-text",{staticClass:"uni-dialog-title-text uni-bold"},[t._v(t._s(t.title))]),e("uni-icons",{staticClass:"absolute f-gray",attrs:{type:"closeempty",color:""},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.close.apply(void 0,arguments)}}})],1),t._t("default"),e("v-uni-view",{staticClass:"uni-dialog-content"},[e("v-uni-input",{staticClass:"uni-dialog-input",attrs:{type:"text",password:"true",placeholder:"输入支付密码"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}}),e("uni-icons",{directives:[{name:"show",rawName:"v-show",value:t.password,expression:"password"}],staticClass:"ml10",attrs:{type:"clear",color:"gray",size:"24"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clearInput(n,"password")}}})],1),e("v-uni-view",{staticClass:"uni-dialog-button-group"},[e("v-uni-view",{staticClass:"uni-dialog-button",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.cancel.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"uni-dialog-button-text f-c55"},[t._v(t._s(t.cancelText))])],1),e("v-uni-view",{staticClass:"uni-dialog-button uni-border-left",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.confirm.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"uni-dialog-button-text uni-button-color"},[t._v(t._s(t.confimText))])],1)],1)],2)],1)},o=[]},bc73:function(t,n,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("64aa");var a=i(e("a03c")),o=i(e("8997")),s={data:function(){return{siteinfo:{},banks:[],bank:{},setting:{},deposit:{money:0},money:100}},methods:{drawal:function(){this.money=this.deposit.money-this.deposit.nodrawal},submit:function(){var t=this;if("wxpay"!=this.bank.code||""!=this.bank.account)if(a.default.isEmpty(this.bank.name)||a.default.isEmpty(this.bank.account))uni.showModal({content:"提现账户有误",showCancel:!1});else if(this.deposit.money-this.deposit.nodrawal<=0)uni.showModal({content:"没有余额，无法提现",showCancel:!1});else if(Number(this.money)<=0)uni.showModal({content:"提现金额有误",showCancel:!1});else{if(!(Number(this.money)>Number(this.deposit.money-this.deposit.nodrawal)))return this.$refs.pay.open();uni.showModal({content:"最多能提现"+(this.deposit.money-this.deposit.nodrawal)+"元",showCancel:!1})}else uni.showModal({content:"提现至微信零钱需要先授权",confirmText:"去授权",success:function(n){n.confirm&&o.default.connect(t,{logintype:"weixin"})}})},cancel:function(t){a.default.redirect("/pages/deposit/setting/pay")},confirm:function(t,n){this.bank=n,t()},payment:function(t,n){o.default.submit(this,n,(function(){t()}))},showPopup:function(t,n){return this.$refs[n].open()},closePopup:function(t,n){return this.$refs[n].close()}},onLoad:function(t){a.default.verifyLogin(!0,this.$mp.page.route)&&(o.default.deposit(this),o.default.banks(this),o.default.setting(this),o.default.siteinfo(this))}};n.default=s},d19e:function(t,n,e){var i=e("8042");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=e("967d").default;a("827e6cca",i,!0,{sourceMap:!1,shadowMode:!1})},d225:function(t,n,e){var i=e("c86c");n=i(!1),n.push([t.i,".uni-popup-dialog[data-v-56d17136]{width:%?600?%;border-radius:%?30?%;background-color:#fff}.uni-dialog-title[data-v-56d17136]{\ndisplay:flex;\nflex-direction:row;justify-content:center;padding-top:%?30?%;padding-bottom:%?10?%}.uni-dialog-title-text[data-v-56d17136]{font-size:%?32?%}.uni-dialog-title .absolute[data-v-56d17136]{left:auto;right:%?30?%}.uni-dialog-content[data-v-56d17136]{\ndisplay:flex;\nflex-direction:row;justify-content:center;align-items:center;padding:%?30?% %?20?%;background-color:#fff;text-align:center}.uni-dialog-content-text[data-v-56d17136]{font-size:%?30?%;color:#6e6e6e}.uni-dialog-button-group[data-v-56d17136]{\ndisplay:flex;\nflex-direction:row;border-top-color:#f5f5f5;border-top-style:solid;border-top-width:%?2?%}.uni-dialog-button[data-v-56d17136]{\ndisplay:flex;\nflex:1;flex-direction:row;justify-content:center;align-items:center;height:%?90?%}.uni-border-left[data-v-56d17136]{border-left-color:#f0f0f0;border-left-style:solid;border-left-width:%?2?%}.uni-dialog-button-text[data-v-56d17136]{font-size:%?30?%}.uni-button-color[data-v-56d17136]{color:#007aff}.uni-dialog-input[data-v-56d17136]{flex:1;font-size:%?30?%}",""]),t.exports=n},d8f9:function(t,n,e){"use strict";var i=e("d19e"),a=e.n(i);a.a},ec4b:function(t,n,e){"use strict";e.r(n);var i=e("9274"),a=e("1e0f");for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(o);e("5ab1");var s=e("828b"),u=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"56d17136",null,!1,i["a"],void 0);n["default"]=u.exports},f0741:function(t,n,e){"use strict";e.r(n);var i=e("bc73"),a=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=a.a},f9bc:function(t,n,e){"use strict";e("6a54"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={name:"uniPopupDialog",props:{title:{type:String,default:"选择提现到"},desc:{type:String,default:"到账时间以各渠道处理为准"},beforeClose:{type:Boolean,default:!1},banks:{type:Array,default:function(){return[]}},showAdd:{type:Boolean,default:!0},selected:{type:Object,default:function(){return{}}}},data:function(){return{bank:{}}},inject:["popup"],created:function(){this.popup.mkclick=!0},methods:{confirm:function(t,n){var e=this;this.bank=n,this.$emit("confirm",(function(){e.popup.close()}),this.bank)},close:function(){var t=this;this.beforeClose?this.$emit("close",(function(){t.popup.close()})):this.popup.close()}}};n.default=i}}]);