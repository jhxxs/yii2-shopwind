(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-refund-build"],{"4e0e":function(e,t,n){var i=n("79d5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var r=n("967d").default;r("4056b10a",i,!0,{sourceMap:!1,shadowMode:!1})},"79d5":function(e,t,n){var i=n("c86c");t=i(!1),t.push([e.i,".mybutton[data-v-1ab1fa2c]{border-radius:%?16?%}.input[data-v-1ab1fa2c]{text-align:right}",""]),e.exports=t},"9f61":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return i}));var i={uniIcons:n("f7b7").default},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{staticClass:"round-edge bgf ml10 mt10 mr10"},[n("v-uni-view",{staticClass:"pl10 pr10 pb10"},[n("v-uni-view",{staticClass:"uni-flex uni-row pd10 flex-middle width-between"},[n("v-uni-text",{staticClass:"f-gray mr10 f-16 pt5 pb5"},[e._v("退款金额")]),n("v-uni-view",{staticClass:"uni-flex uni-row"},[n("v-uni-input",{staticClass:"input pt5 pb5 mr10",attrs:{type:"digit",placeholder:e.refund.total_fee},model:{value:e.refund.refund_total_fee,callback:function(t){e.$set(e.refund,"refund_total_fee",t)},expression:"refund.refund_total_fee"}}),n("uni-icons",{directives:[{name:"show",rawName:"v-show",value:e.refund.refund_total_fee,expression:"refund.refund_total_fee"}],attrs:{color:"#ddd",size:"38",type:"clear"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clearInput("refund_total_fee")}}})],1)],1),n("v-uni-view",{staticClass:"uni-flex uni-row pd10 flex-middle width-between bt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.shippedOptions.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"f-gray mr10 f-16 pt5 pb5"},[e._v("收货情况")]),n("v-uni-view",{staticClass:"pt5 pb5"},[n("v-uni-text",{staticClass:"f-16"},[e._v(e._s(e.refund.shipped_label))]),n("uni-icons",{attrs:{type:"arrowright"}})],1)],1),n("v-uni-view",{staticClass:"uni-flex uni-row pd10 flex-middle width-between bt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.reasonOptions.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"f-gray mr10 f-16 pt5 pb5"},[e._v("退款原因")]),n("v-uni-view",{staticClass:"pt5 pb5"},[n("v-uni-text",{staticClass:"f-16"},[e._v(e._s(e.refund.refund_reason))]),n("uni-icons",{attrs:{type:"arrowright"}})],1)],1),n("v-uni-view",{staticClass:"uni-flex uni-row pd10 flex-middle width-between bt"},[n("v-uni-text",{staticClass:"f-gray mr10 f-16 pt5"},[e._v("退款说明")]),n("v-uni-view",{staticClass:"uni-flex uni-row"},[n("v-uni-input",{staticClass:"f-16 pt5 input mr10",attrs:{placeholder:"选填"},model:{value:e.refund.refund_desc,callback:function(t){e.$set(e.refund,"refund_desc",t)},expression:"refund.refund_desc"}}),n("uni-icons",{directives:[{name:"show",rawName:"v-show",value:e.refund.refund_desc,expression:"refund.refund_desc"}],attrs:{color:"#ddd",size:"38",type:"clear"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clearInput("refund_desc")}}})],1)],1)],1)],1),n("v-uni-view",{staticClass:"mt10 pd10"},[n("v-uni-view",{staticClass:"mybutton f-white uni-center pt5 pb5 f-16 uni-bold",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submit.apply(void 0,arguments)}}},[e._v("提交")])],1)],1)},d=[]},a351:function(e,t,n){"use strict";var i=n("4e0e"),r=n.n(i);r.a},bfd8:function(e,t,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("a03c")),d=i(n("c783")),u={data:function(){return{order_id:0,order:{},refund:{refund_id:0,total_fee:"",refund_total_fee:"",shipped:0,shipped_label:"未收到货，需要退款",refund_reason:"缺货",refund_desc:""}}},methods:{clearInput:function(e){this.refund[e]=""},shippedOptions:function(){d.default.shippedOptions(this)},reasonOptions:function(){d.default.reasonOptions(this)},submit:function(){d.default.submit(this)}},onLoad:function(e){r.default.verifyLogin(!0,this.$mp.page.route)&&(e.order_id?(this.order_id=e.order_id,d.default.order(this)):e.id&&(uni.setNavigationBarTitle({title:"修改退款"}),this.refund.refund_id=e.id,d.default.refund(this)))}};t.default=u},c783:function(e,t,n){"use strict";var i=n("f5bd").default,r=i(n("8e1d"));function d(e){var t=["未收到货，需要退款","已收到货，不退货只退款","已收到货，需退货退款"];return e>=0&&e<=6?t[e]:t}e.exports={order:
/**
 * @link https://www.shopwind.net/
 * @copyright Copyright (c) 2018 ShopWind Inc. All Rights Reserved.
 *
 * This is not free software. Do not use it for commercial purposes. 
 * If you need commercial operation, please contact us to purchase a license.
 * @license https://www.shopwind.net/license/
 *
 * @Id list.js 2019.12.7 $
 * @author winder
 */
function(e){r.default.request("order/read",{order_id:e.order_id},(function(t){0==t.code?(e.order=t.data,e.order.status>=20&&40!=e.order.status&&e.order.order_amount>0?(e.refund.total_fee=e.order.order_amount,e.refund.refund_total_fee=e.order.order_amount):uni.showModal({title:"提示",content:"该订单不支持退款",showCancel:!1,complete:function(){uni.navigateBack()}})):t.message&&uni.showModal({content:t.message,showCancel:!1})}))},refund:function(e){r.default.request("refund/read",{refund_id:e.refund.refund_id},(function(t){0==t.code?(e.refund=t.data,e.refund.shipped_label=d(e.refund.shipped),r.default.request("order/read",{order_sn:e.refund.order_sn},(function(t){0==t.code&&(e.order=t.data)}))):t.message&&uni.showModal({content:t.message,showCancel:!1})}))},submit:function(e){r.default.request(e.order_id?"refund/create":"refund/update",Object.assign(e.refund,{order_id:e.order.order_id}),(function(t){0==t.code?uni.showToast({title:e.order_id?"退款申请已提交":"等待卖家处理",duration:2e3,complete:function(){setTimeout((function(){uni.redirectTo({url:"/pages/my/refund/detail?id="+t.data.refund_id})}),2e3)}}):t.message&&uni.showModal({content:t.message,showCancel:!1})}))},shippedOptions:function(e){var t=d();uni.showActionSheet({itemList:t,success:function(n){e.refund.shipped=n.tapIndex,e.refund.shipped_label=t[n.tapIndex],e.$forceUpdate()}})},reasonOptions:function(e){var t=["缺货","未按约定时间发货","商品有质量问题","商品错发/漏发","收到的商品描述不符","其他"];uni.showActionSheet({itemList:t,success:function(n){e.refund.refund_reason=t[n.tapIndex]}})}}},d084:function(e,t,n){"use strict";n.r(t);var i=n("9f61"),r=n("f476");for(var d in r)["default"].indexOf(d)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(d);n("a351");var u=n("828b"),a=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,"1ab1fa2c",null,!1,i["a"],void 0);t["default"]=a.exports},f476:function(e,t,n){"use strict";n.r(t);var i=n("bfd8"),r=n.n(i);for(var d in i)["default"].indexOf(d)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(d);t["default"]=r.a}}]);