import{a as G,m as I,n as O}from"./blocks.ed01be35.js";import{r as y,x as A,b as J,d as a,e as K,o as c,c as u,a as e,f as n,h as l,F as Q,j as r,w as R,m as D,i as m,t as p,B as Y,k as W,G as X,E as Z}from"./index.63485ad7.js";import{m as ee}from"./seller.19de717e.js";import{_ as te}from"./user.ca2642db.js";import{m as le}from"./seller.72cf562b.js";import"./chat.2d6ea877.js";const oe={class:"main w pt10"},ae={class:"round-edge pd10 bgf"},se={class:"pd10"},ne=m("\u8425\u9500"),ie=m("\u79D2\u6740\u7BA1\u7406"),re={class:"round-edge pd10 bgf mt20"},de={class:"pl10 pt10"},_e={class:"block"},ce=m("\u67E5\u8BE2"),ue={class:"round-edge pd10 bgf mt20"},pe=m("\u65B0\u589E\u79D2\u6740 "),me=["src"],ge={class:"f-12 f-gray l-h17"},fe={class:"l-h17"},he={key:0,class:"f-gray"},be={key:1,class:"f-red"},we={key:2,class:"f-red"},ve={key:3,class:"f-green"},ye={key:4,class:"f-blue"},ke={class:"l-h17"},Ce={class:"l-h17"},xe=m("\u7F16\u8F91 "),ze=m(" \u5220\u9664 "),Ve={key:0,class:"mt20 mb20"},De={setup(Ye){const k=y(!1),f=y([]),_=y({}),d=A({});J(()=>{g()});const C=()=>{g()},M=s=>{d.begin=s?s[0]:"",d.end=s?s[1]:"",g()},B=s=>{X.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BE5\u79D2\u6740\u6D3B\u52A8\u5417\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",type:"warning"}).then(()=>{O(f.value[s],o=>{Z.success("\u5220\u9664\u6210\u529F\uFF01"),f.value.splice(s,1)})}).catch(()=>{})},U=s=>{g({page_size:s})},$=s=>{g({page:s,page_size:_.value.page_size})};function g(s={}){I(Object.assign(d,s),o=>{f.value=o.list,_.value=o.pagination},k)}return(s,o)=>{const h=a("el-col"),x=a("el-breadcrumb-item"),E=a("el-breadcrumb"),b=a("el-option"),H=a("el-select"),w=a("el-form-item"),N=a("el-input"),L=a("el-date-picker"),v=a("el-button"),P=a("el-form"),i=a("el-table-column"),z=a("router-link"),V=a("el-row"),S=a("el-progress"),j=a("el-table"),F=a("el-pagination"),T=K("loading");return c(),u(Q,null,[e(ee),n("div",oe,[e(V,{gutter:12},{default:l(()=>[e(h,{span:4},{default:l(()=>[e(le)]),_:1}),e(h,{span:20},{default:l(()=>[n("div",ae,[n("div",se,[e(E,{separator:"/"},{default:l(()=>[e(x,null,{default:l(()=>[ne]),_:1}),e(x,null,{default:l(()=>[ie]),_:1})]),_:1})])]),n("div",re,[n("div",de,[e(P,{inline:!0},{default:l(()=>[e(w,{label:"\u6D3B\u52A8\u72B6\u6001"},{default:l(()=>[e(H,{modelValue:r(d).status,"onUpdate:modelValue":o[0]||(o[0]=t=>r(d).status=t),onChange:C,placeholder:"\u4E0D\u9650\u5236",clearable:""},{default:l(()=>[e(b,{label:"\u5373\u5C06\u5F00\u59CB",value:"waiting"}),e(b,{label:"\u8FDB\u884C\u4E2D",value:"going"}),e(b,{label:"\u5DF2\u5931\u6548",value:"invalid"}),e(b,{label:"\u5DF2\u7ED3\u675F",value:"ended"})]),_:1},8,["modelValue"])]),_:1}),e(w,{label:"\u5173\u952E\u8BCD"},{default:l(()=>[e(N,{modelValue:r(d).keyword,"onUpdate:modelValue":o[1]||(o[1]=t=>r(d).keyword=t),clearable:""},null,8,["modelValue"])]),_:1}),n("div",_e,[e(w,{label:"\u6D3B\u52A8\u65F6\u95F4"},{default:l(()=>[e(L,{modelValue:r(d).daterange,"onUpdate:modelValue":o[2]||(o[2]=t=>r(d).daterange=t),type:"datetimerange","range-separator":"-","start-placeholder":"\u5F00\u59CB","end-placeholder":"\u7ED3\u675F",format:"YYYY-MM-DD HH:mm:ss","value-format":"YYYY-MM-DD HH:mm:ss",onChange:M},null,8,["modelValue"])]),_:1}),e(w,null,{default:l(()=>[e(v,{onClick:C,type:"primary",class:"f-13"},{default:l(()=>[ce]),_:1})]),_:1})])]),_:1})])]),R((c(),u("div",ue,[e(v,{class:"ml10 mb10",type:"primary",onClick:o[3]||(o[3]=t=>r(D)("/seller/limitbuy/build"))},{default:l(()=>[pe]),_:1}),e(j,{data:f.value,border:!1,stripe:!1},{default:l(()=>[e(i,{type:"selection"}),e(i,{width:"280",label:"\u5546\u54C1\u4FE1\u606F"},{default:l(t=>[e(V,null,{default:l(()=>[e(h,{span:7},{default:l(()=>[e(z,{to:"/goods/detail/"+t.row.goods_id,class:"rlink"},{default:l(()=>[n("img",{src:t.row.goods_image,width:"50",height:"50"},null,8,me)]),_:2},1032,["to"])]),_:2},1024),e(h,{span:17,class:"l-h17"},{default:l(()=>[e(z,{to:"/goods/detail/"+t.row.goods_id,class:"rlink line-clamp-2"},{default:l(()=>[m(p(t.row.goods_name),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:1}),e(i,{label:"\u539F\u4EF7",width:"100"},{default:l(t=>[n("span",null,p(r(Y)(t.row.price)),1)]),_:1}),e(i,{label:"\u4FC3\u9500\u4EF7",width:"100"},{default:l(t=>[n("strong",null,p(r(Y)(t.row.promotion.price)),1)]),_:1}),e(i,{prop:"name",label:"\u6D3B\u52A8\u6807\u9898",width:"100"},{default:l(t=>[n("span",null,p(t.row.promotion.name),1)]),_:1}),e(i,{label:"\u62A2\u8D2D\u8FDB\u5EA6",width:"130"},{default:l(t=>[e(S,{"show-text":!1,"text-inside":!0,"stroke-width":"8",percentage:t.row.promotion.progress*100},null,8,["percentage"]),n("span",ge,p(t.row.promotion.sales)+"/"+p(t.row.promotion.sales+t.row.promotion.stocks),1)]),_:1}),e(i,{label:"\u72B6\u6001",width:"100"},{default:l(t=>[n("p",fe,[t.row.status=="ended"?(c(),u("text",he,"\u5DF2\u7ED3\u675F")):t.row.status=="price_invalid"?(c(),u("text",be,"\u4EF7\u683C\u4E0D\u5408\u7406")):t.row.status=="invalid"?(c(),u("text",we,"\u5DF2\u5931\u6548")):t.row.status=="going"?(c(),u("text",ve,"\u8FDB\u884C\u4E2D")):(c(),u("text",ye,"\u5373\u5C06\u5F00\u59CB"))])]),_:1}),e(i,{label:"\u5F00\u59CB\u65F6\u95F4",width:"100"},{default:l(t=>[n("p",ke,p(t.row.start_time),1)]),_:1}),e(i,{label:"\u7ED3\u675F\u65F6\u95F4",width:"100"},{default:l(t=>[n("p",Ce,p(t.row.end_time),1)]),_:1}),e(i,{fixed:"right",label:"\u64CD\u4F5C",width:"130",align:"center"},{default:l(t=>[e(v,{onClick:q=>r(D)("/seller/limitbuy/build/"+t.row.id),type:"primary",size:"small",class:"mr10",plain:""},{default:l(()=>[xe]),_:2},1032,["onClick"]),e(v,{onClick:q=>B(t.$index),type:"warning",size:"small",plain:""},{default:l(()=>[ze]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),_.value.total>0?(c(),u("div",Ve,[e(F,{currentPage:_.value.page,"onUpdate:currentPage":o[4]||(o[4]=t=>_.value.page=t),"page-size":_.value.page_size,"onUpdate:page-size":o[5]||(o[5]=t=>_.value.page_size=t),"page-sizes":[10,50,100,200],background:!1,layout:"total, sizes, prev, pager, next",total:_.value.total,onSizeChange:U,onCurrentChange:$,"hide-on-single-page":!1,class:"center"},null,8,["currentPage","page-size","total"])])):W("",!0)])),[[T,k.value]])]),_:1})]),_:1})]),e(te)],64)}}};var Ne=G(De,[["__scopeId","data-v-71766387"]]);export{Ne as default};
