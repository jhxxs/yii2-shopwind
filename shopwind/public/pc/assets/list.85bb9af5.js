import{s as I,m as O}from"./mealbuy.2122411e.js";import{r as k,x as A,b as H,d as o,e as J,o as d,c as u,a as e,f as r,h as t,F as U,j as s,w as K,m as $,l as Q,g as R,t as p,k as D,B as f,i as m,G as W,E as X}from"./index.63485ad7.js";import{m as Y}from"./seller.19de717e.js";import{_ as Z}from"./user.ca2642db.js";import{m as ee}from"./seller.72cf562b.js";import{a as te}from"./blocks.ed01be35.js";import"./chat.2d6ea877.js";const le={class:"main w pt10"},ae={class:"round-edge pd10 bgf"},oe={class:"pd10"},se=m("\u8425\u9500"),ne=m("\u642D\u914D\u8D2D\u7BA1\u7406"),ie={class:"round-edge pd10 bgf mt20"},re={class:"pl10 pt10"},_e=m("\u67E5\u8BE2"),ce={class:"round-edge pd10 bgf mt20"},de=m("\u65B0\u589E\u642D\u914D\u8D2D "),ue=["src"],pe={class:"line-clamp-2"},me={key:0,class:"f-gray f-12"},ge={class:"mt5"},fe={key:0,class:"f-yahei"},be={key:1,class:"f-yahei"},he={class:"f-yahei"},ve=m("\u7F16\u8F91 "),ye=m(" \u5220\u9664 "),we={key:0,class:"mt20 mb20"},ke={setup(Ce){const C=k(!1),b=k([]),_=k({}),g=A({queryitem:!0});H(()=>{h()});const x=()=>{h()},E=i=>{W.confirm("\u60A8\u786E\u5B9A\u8981\u5C06\u8BE5\u642D\u914D\u8D2D\u5546\u54C1\u5417\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",type:"warning"}).then(()=>{O(b.value[i],a=>{X.success("\u5220\u9664\u6210\u529F\uFF01"),b.value.splice(i,1)})}).catch(()=>{})},M=i=>{h({page_size:i})},N=i=>{h({page:i,page_size:_.value.page_size})};function h(i=[]){I(Object.assign(g,i),a=>{b.value=a.list,_.value=a.pagination},C)}return(i,a)=>{const v=o("el-col"),z=o("el-breadcrumb-item"),L=o("el-breadcrumb"),V=o("el-option"),P=o("el-select"),w=o("el-form-item"),S=o("el-input"),y=o("el-button"),j=o("el-form"),c=o("el-table-column"),B=o("el-row"),q=o("el-switch"),F=o("el-table"),T=o("el-pagination"),G=J("loading");return d(),u(U,null,[e(Y),r("div",le,[e(B,{gutter:12},{default:t(()=>[e(v,{span:4},{default:t(()=>[e(ee)]),_:1}),e(v,{span:20},{default:t(()=>[r("div",ae,[r("div",oe,[e(L,{separator:"/"},{default:t(()=>[e(z,null,{default:t(()=>[se]),_:1}),e(z,null,{default:t(()=>[ne]),_:1})]),_:1})])]),r("div",ie,[r("div",re,[e(j,{inline:!0},{default:t(()=>[e(w,{label:"\u642D\u914D\u8D2D\u72B6\u6001"},{default:t(()=>[e(P,{modelValue:s(g).status,"onUpdate:modelValue":a[0]||(a[0]=l=>s(g).status=l),onChange:x,placeholder:"\u4E0D\u9650\u5236",clearable:""},{default:t(()=>[e(V,{label:"\u8FDB\u884C\u4E2D",value:"1"}),e(V,{label:"\u5DF2\u5931\u6548",value:"0"})]),_:1},8,["modelValue"])]),_:1}),e(w,{label:"\u5173\u952E\u8BCD"},{default:t(()=>[e(S,{modelValue:s(g).keyword,"onUpdate:modelValue":a[1]||(a[1]=l=>s(g).keyword=l),clearable:""},null,8,["modelValue"])]),_:1}),e(w,null,{default:t(()=>[e(y,{onClick:x,type:"primary",class:"f-13"},{default:t(()=>[_e]),_:1})]),_:1})]),_:1})])]),K((d(),u("div",ce,[e(y,{class:"ml10 mb10",type:"primary",onClick:a[2]||(a[2]=l=>s($)("/seller/mealbuy/build"))},{default:t(()=>[de]),_:1}),e(F,{data:b.value,border:!1,stripe:!1},{default:t(()=>[e(c,{type:"selection"}),e(c,{width:"420",label:"\u5546\u54C1\u4FE1\u606F"},{default:t(l=>[(d(!0),u(U,null,Q(l.row.items,n=>(d(),R(B,{class:"pr10 pb5",style:{"border-right":"1px #eee solid"},key:n.rec_id},{default:t(()=>[e(v,{span:4},{default:t(()=>[r("img",{src:n.goods_image,width:"50",height:"50",style:{"margin-top":"4px"}},null,8,ue)]),_:2},1024),e(v,{span:20,class:"l-h20"},{default:t(()=>[r("p",pe,p(n.goods_name),1),n.specification?(d(),u("p",me,p(n.specification),1)):D("",!0),r("p",ge,p(s(f)(n.price))+" x 1",1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(c,{label:"\u539F\u603B\u4EF7",width:"120",align:"center"},{default:t(l=>[l.row.total.length>0?(d(),u("span",fe,p(s(f)(l.row.total[0]))+" - "+p(s(f)(l.row.total[1])),1)):(d(),u("span",be,p(s(f)(l.row.total)),1))]),_:1}),e(c,{label:"\u642D\u914D\u4EF7",width:"120",align:"center"},{default:t(l=>[r("strong",he,p(s(f)(l.row.price)),1)]),_:1}),e(c,{prop:"status",label:"\u72B6\u6001",width:"80"},{default:t(l=>[e(q,{modelValue:l.row.status,"onUpdate:modelValue":n=>l.row.status=n,"active-value":"1","inactive-value":"0",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{prop:"title",label:"\u6807\u9898",width:"100",sortable:""}),e(c,{prop:"created",label:"\u521B\u5EFA\u65F6\u95F4",width:"100",sortable:""}),e(c,{fixed:"right",label:"\u64CD\u4F5C",align:"center",width:"130"},{default:t(l=>[e(y,{onClick:n=>s($)("/seller/mealbuy/build/"+l.row.meal_id),type:"primary",size:"small",class:"mr10",plain:""},{default:t(()=>[ve]),_:2},1032,["onClick"]),e(y,{onClick:n=>E(l.$index),type:"warning",size:"small",plain:""},{default:t(()=>[ye]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),_.value.total>0?(d(),u("div",we,[e(T,{currentPage:_.value.page,"onUpdate:currentPage":a[3]||(a[3]=l=>_.value.page=l),"page-size":_.value.page_size,"onUpdate:page-size":a[4]||(a[4]=l=>_.value.page_size=l),"page-sizes":[10,50,100,200],background:!1,layout:"total, sizes, prev, pager, next",total:_.value.total,onSizeChange:M,onCurrentChange:N,"hide-on-single-page":!1,class:"center"},null,8,["currentPage","page-size","total"])])):D("",!0)])),[[G,C.value]])]),_:1})]),_:1})]),e(Z)],64)}}};var Ee=te(ke,[["__scopeId","data-v-7b47e361"]]);export{Ee as default};
