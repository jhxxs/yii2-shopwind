import{r as x,x as W,b as X,z as K,d as i,o as r,g as c,h as t,a as e,j as s,c as y,l as Z,F as R,i as n,E as de,u as re,e as ie,f as V,t as _,w as ue,k as w,B as Q,H as I}from"./index.62034e5b.js";import{o as _e,s as pe,j as ce}from"./order.60a7e6f9.js";import{g as me,a as fe,b as ge,c as be,d as ye,e as ve}from"./moment.ab47a251.js";import{m as he}from"./seller.c2523924.js";import{_ as ke}from"./user.01a6387e.js";import{m as we}from"./seller.1ded1581.js";import{c as Ve}from"./delivery.44cb2773.js";import{w as xe}from"./chat.3e501cc2.js";import{a as ee}from"./blocks.8ce53700.js";import{c as Ce}from"./canceled.fb807e4f.js";const ze=n("\u5173\u95ED"),Ue=n("\u63D0\u4EA4"),De={props:{title:{type:String,default:""},visible:{type:Boolean,default:!1},data:{type:[Object,Array],default:()=>({})}},emits:["close"],setup(N,{emit:L}){const v=N,h=x(!1),d=x(!1),u=W({express_comkey:"noneed"}),D=x([]);X(()=>{Ve(null,m=>{D.value=m.list})}),K(()=>v.visible,m=>{h.value=m}),K(()=>v.data,m=>{u.express_comkey=m.gtype=="material"?m.express_comkey:"noneed",u.express_no=m.express_no});const M=()=>{_e({order_id:v.data.order_id,express_comkey:u.express_comkey,express_no:u.express_no,status:30},m=>{u.express_comkey=="noneed"&&xe(Object.assign(u,{toid:v.data.buyer_id,store_id:parseInt(v.data.seller_id)})),de.success(v.data.status==m.status?"\u7269\u6D41\u4FE1\u606F\u5DF2\u4FEE\u6539":"\u53D1\u8D27\u6210\u529F"),L("close",m)},d)},z=()=>{L("close",null)};return(m,f)=>{const O=i("el-option"),P=i("el-select"),$=i("el-form-item"),j=i("el-input"),F=i("el-form"),E=i("el-button"),U=i("el-dialog");return r(),c(U,{modelValue:h.value,"onUpdate:modelValue":f[3]||(f[3]=a=>h.value=a),title:N.title,width:500,center:!0,draggable:!0,"destroy-on-close":!0,"close-on-click-modal":!1,"before-close":z},{footer:t(()=>[e(E,{onClick:z},{default:t(()=>[ze]),_:1}),e(E,{type:"primary",onClick:M,loading:d.value},{default:t(()=>[Ue]),_:1},8,["loading"])]),default:t(()=>[e(F,null,{default:t(()=>[e($,{label:"\u7269\u6D41\u516C\u53F8"},{default:t(()=>[e(P,{modelValue:s(u).express_comkey,"onUpdate:modelValue":f[0]||(f[0]=a=>s(u).express_comkey=a),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[(r(!0),y(R,null,Z(D.value,(a,o)=>(r(),c(O,{key:o,label:a.name,value:a.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),s(u).express_comkey=="noneed"?(r(),c($,{key:0,label:"\u53D1\u8D27\u8BF4\u660E"},{default:t(()=>[e(j,{modelValue:s(u).content,"onUpdate:modelValue":f[1]||(f[1]=a=>s(u).content=a),type:"textarea",resize:"none",placeholder:"\u5982\u865A\u62DF\u5546\u54C1\u63D0\u4F9B\u7684\u670D\u52A1"},null,8,["modelValue"])]),_:1})):(r(),c($,{key:1,label:"\u7269\u6D41\u5355\u53F7"},{default:t(()=>[e(j,{modelValue:s(u).express_no,"onUpdate:modelValue":f[2]||(f[2]=a=>s(u).express_no=a),clearable:!0},null,8,["modelValue"])]),_:1}))]),_:1})]),_:1},8,["modelValue","title"])}}};var $e=ee(De,[["__scopeId","data-v-abf5ed3a"]]);const Se={class:"main w pt10"},Ye={class:"round-edge pd10 bgf"},Le={class:"pd10"},Me=n("\u8BA2\u5355"),Oe=n("\u8BA2\u5355\u7BA1\u7406"),je={class:"round-edge pd10 bgf mt20"},Be={class:"pl10 pt10"},Ee=n("\u5168\u90E8"),qe=n("\u4ECA\u5929"),Ie=n("\u6628\u5929"),Ne=n("\u6700\u8FD17\u5929"),Pe=n("\u6700\u8FD130\u5929"),Fe=n("\u672C\u6708"),Re=n("\u672C\u5E74"),Te={class:"block"},Ae=n("\u67E5\u8BE2"),He={class:"round-edge pd10 bgf mt20"},Ge=["src"],Je=n("\u865A\u62DF\u5546\u54C1"),Ke=n("\u670D\u52A1\u5546\u54C1"),Qe={key:0,class:"f-gray f-12"},We={class:"mt5"},Xe={class:"f-yahei"},Ze={key:0,class:"f-12"},el={class:"bold"},ll={key:0,class:"f-gray"},tl={key:1,class:"f-red"},al={key:2,class:"f-blue"},ol={key:3},sl={key:0},nl=n("\u9000\u6B3E\u6210\u529F"),dl=n(" \u9000\u6B3E\u4E2D"),rl=n("\u67E5\u770B\u8BA2\u5355"),il=n("\u53D6\u6D88\u8BA2\u5355"),ul={key:1},_l=n(" \u5546\u5BB6\u53D1\u8D27 "),pl=n(" \u865A\u62DF\u53D1\u8D27 "),cl=n(" \u4FEE\u6539\u5355\u53F7 "),ml=n("\u67E5\u770B\u7269\u6D41"),fl={key:0,class:"mt20 mb20"},gl={setup(N){const L=x(!1),v=x([]),h=x({}),d=W({queryitem:!0}),u=x({}),D=x(!1),M=x(!1),z=x(0),m=re();X(()=>{U(m.query),pe(null,a=>{u.value=a})});const f=()=>{U()},O=a=>{D.value=!0,z.value=a},P=a=>{M.value=!0,z.value=a},$=a=>{D.value=!1,M.value=!1,Object.assign(v.value[z.value],a||{})},j=(a,o)=>{let g={starttime:"",endtime:""};o=="datetype"?(a=="today"?g=me():a=="yesterday"?g=fe():a=="month"?g=ge():a=="year"?g=be():a=="last7"?g=ye():a=="last30"&&(g=ve()),d.daterange="",d.begin=g.starttime,d.end=g.endtime):o=="daterange"&&(d.datetype="",d.begin=a?a[0]+" 00:00:00":"",d.end=a?a[1]+" 23:59:59":""),U()},F=a=>{U({page_size:a})},E=a=>{U({page:a,page_size:h.value.page_size})};function U(a){ce(Object.assign(d,a),o=>{v.value=o.list,h.value=o.pagination},L)}return(a,o)=>{const g=i("el-col"),T=i("el-breadcrumb-item"),le=i("el-breadcrumb"),p=i("el-radio-button"),A=i("el-radio-group"),C=i("el-form-item"),te=i("el-date-picker"),S=i("el-option"),H=i("el-select"),q=i("el-input"),B=i("el-button"),ae=i("el-form"),k=i("el-table-column"),Y=i("router-link"),G=i("el-tag"),J=i("el-row"),oe=i("el-table"),se=i("el-pagination"),ne=ie("loading");return r(),y(R,null,[e(he),V("div",Se,[e(J,{gutter:12},{default:t(()=>[e(g,{span:4},{default:t(()=>[e(we)]),_:1}),e(g,{span:20},{default:t(()=>[V("div",Ye,[V("div",Le,[e(le,{separator:"/"},{default:t(()=>[e(T,null,{default:t(()=>[Me]),_:1}),e(T,null,{default:t(()=>[Oe]),_:1})]),_:1})])]),V("div",je,[V("div",Be,[e(ae,{inline:!0},{default:t(()=>[e(C,{label:"\u8BA2\u5355\u72B6\u6001"},{default:t(()=>[e(A,{modelValue:s(d).type,"onUpdate:modelValue":o[0]||(o[0]=l=>s(d).type=l),onChange:f},{default:t(()=>[e(p,{label:""},{default:t(()=>[n("\u5168\u90E8("+_(u.value.all||0)+")",1)]),_:1}),e(p,{label:"pending"},{default:t(()=>[n("\u5F85\u4ED8\u6B3E("+_(u.value.pending||0)+")",1)]),_:1}),e(p,{label:"teaming"},{default:t(()=>[n("\u5F85\u6210\u56E2("+_(u.value.teaming||0)+")",1)]),_:1}),e(p,{label:"accepted"},{default:t(()=>[n("\u5F85\u53D1\u8D27("+_(u.value.accepted||0)+") ",1)]),_:1}),e(p,{label:"picking"},{default:t(()=>[n("\u5F85\u914D\u9001("+_(u.value.picking||0)+")",1)]),_:1}),e(p,{label:"delivered"},{default:t(()=>[n("\u5F85\u53D6\u8D27("+_(u.value.delivered||0)+") ",1)]),_:1}),e(p,{label:"finished"},{default:t(()=>[n("\u4EA4\u6613\u5B8C\u6210("+_(u.value.finished||0)+") ",1)]),_:1}),e(p,{label:"canceled"},{default:t(()=>[n("\u4EA4\u6613\u5173\u95ED("+_(u.value.canceled||0)+") ",1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(C,{label:"\u4E0B\u5355\u65F6\u95F4"},{default:t(()=>[e(A,{modelValue:s(d).datetype,"onUpdate:modelValue":o[1]||(o[1]=l=>s(d).datetype=l),onChange:o[2]||(o[2]=l=>j(l,"datetype"))},{default:t(()=>[e(p,{label:""},{default:t(()=>[Ee]),_:1}),e(p,{label:"today"},{default:t(()=>[qe]),_:1}),e(p,{label:"yesterday"},{default:t(()=>[Ie]),_:1}),e(p,{label:"last7"},{default:t(()=>[Ne]),_:1}),e(p,{label:"last30"},{default:t(()=>[Pe]),_:1}),e(p,{label:"month"},{default:t(()=>[Fe]),_:1}),e(p,{label:"year"},{default:t(()=>[Re]),_:1})]),_:1},8,["modelValue"]),e(te,{modelValue:s(d).daterange,"onUpdate:modelValue":o[3]||(o[3]=l=>s(d).daterange=l),type:"daterange","range-separator":"-","start-placeholder":"\u5F00\u59CB","end-placeholder":"\u7ED3\u675F",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:o[4]||(o[4]=l=>j(l,"daterange")),class:"ml10"},null,8,["modelValue"])]),_:1}),e(C,{label:"\u8BA2\u5355\u7C7B\u578B"},{default:t(()=>[e(H,{modelValue:s(d).otype,"onUpdate:modelValue":o[5]||(o[5]=l=>s(d).otype=l),onChange:f,placeholder:"\u4E0D\u9650\u5236",clearable:""},{default:t(()=>[e(S,{label:"\u666E\u901A\u8BA2\u5355",value:"normal"}),e(S,{label:"\u62FC\u56E2\u8BA2\u5355",value:"teambuy"}),e(S,{label:"\u81EA\u63D0\u8BA2\u5355",value:"guidebuy"})]),_:1},8,["modelValue"])]),_:1}),e(C,{label:"\u8BA2\u5355\u7F16\u53F7",style:{width:"243px"}},{default:t(()=>[e(q,{modelValue:s(d).order_sn,"onUpdate:modelValue":o[6]||(o[6]=l=>s(d).order_sn=l),clearable:""},null,8,["modelValue"])]),_:1}),e(C,{label:"\u6536\u8D27\u4EBA\u4FE1\u606F",style:{width:"330px"}},{default:t(()=>[e(q,{modelValue:s(d).consignee,"onUpdate:modelValue":o[7]||(o[7]=l=>s(d).consignee=l),placeholder:"\u59D3\u540D/\u624B\u673A\u53F7",clearable:""},null,8,["modelValue"])]),_:1}),V("div",Te,[e(C,{label:"\u5546\u54C1\u7C7B\u578B"},{default:t(()=>[e(H,{modelValue:s(d).gtype,"onUpdate:modelValue":o[8]||(o[8]=l=>s(d).gtype=l),onChange:f,placeholder:"\u4E0D\u9650\u5236",clearable:""},{default:t(()=>[e(S,{label:"\u5B9E\u7269\u5546\u54C1",value:"material"}),e(S,{label:"\u670D\u52A1\u5546\u54C1",value:"service"}),e(S,{label:"\u865A\u62DF\u5546\u54C1",value:"virtual"})]),_:1},8,["modelValue"])]),_:1}),e(C,{label:"\u5546\u54C1\u540D\u79F0",style:{width:"243px"}},{default:t(()=>[e(q,{modelValue:s(d).keyword,"onUpdate:modelValue":o[9]||(o[9]=l=>s(d).keyword=l),clearable:""},null,8,["modelValue"])]),_:1}),e(C,{label:"\u4E70\u5BB6\u7528\u6237\u540D"},{default:t(()=>[e(q,{modelValue:s(d).buyer_name,"onUpdate:modelValue":o[10]||(o[10]=l=>s(d).buyer_name=l),clearable:""},null,8,["modelValue"])]),_:1}),e(C,null,{default:t(()=>[e(B,{onClick:f,type:"primary",class:"f-13"},{default:t(()=>[Ae]),_:1})]),_:1})])]),_:1})])]),ue((r(),y("div",He,[e(oe,{data:v.value,border:!1,stripe:!1},{default:t(()=>[e(k,{type:"selection"}),e(k,{width:"420",label:"\u5546\u54C1\u4FE1\u606F"},{default:t(l=>[(r(!0),y(R,null,Z(l.row.items,b=>(r(),c(J,{class:"pr10 pb5",style:{"border-right":"1px #eee solid"},key:b.rec_id},{default:t(()=>[e(g,{span:4},{default:t(()=>[e(Y,{to:"/goods/detail/"+b.goods_id,class:"rlink",style:{"margin-top":"4px"}},{default:t(()=>[V("img",{src:b.goods_image,width:"50",height:"50"},null,8,Ge)]),_:2},1032,["to"])]),_:2},1024),e(g,{span:20,class:"l-h20"},{default:t(()=>[e(Y,{to:"/goods/detail/"+b.goods_id,class:"line-clamp-2 rlink"},{default:t(()=>[l.row.gtype=="virtual"?(r(),c(G,{key:0,class:"f-12"},{default:t(()=>[Je]),_:1})):l.row.gtype=="service"?(r(),c(G,{key:1,class:"f-12",type:"danger"},{default:t(()=>[Ke]),_:1})):w("",!0),n(" "+_(b.goods_name),1)]),_:2},1032,["to"]),b.specification?(r(),y("p",Qe,_(b.specification),1)):w("",!0),V("p",We,_(s(Q)(b.price))+" x "+_(b.quantity),1)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(k,{prop:"order_amount",label:"\u8BA2\u5355\u603B\u4EF7",width:"150",align:"center"},{default:t(l=>[V("strong",Xe,_(s(Q)(l.row[l.column.property])),1),l.row.gtype=="material"?(r(),y("p",Ze,"(\u542B\u8FD0\u8D39"+_(l.row.shipping_fee)+")",1)):w("",!0)]),_:1}),e(k,{prop:"buyer_name",label:"\u4E70\u5BB6",width:"150",sortable:""}),e(k,{prop:"status",label:"\u8BA2\u5355\u72B6\u6001",width:"150"},{default:t(l=>[V("p",el,[l.row.status==0?(r(),y("span",ll,_(s(I)(l.row.status)),1)):l.row.status==20||l.row.status==11?(r(),y("span",tl,_(s(I)(l.row.status)),1)):l.row.status==19?(r(),y("span",al,_(s(I)(l.row.status)),1)):(r(),y("span",ol,_(s(I)(l.row.status)),1))]),l.row.refund_id?(r(),y("p",sl,[l.row.refund_status=="SUCCESS"?(r(),c(Y,{key:0,class:"rlink f-blue",to:"/seller/refund/detail/"+l.row.refund_id},{default:t(()=>[nl]),_:2},1032,["to"])):l.row.refund_status&&l.row.refund_status!="CLOSED"?(r(),c(Y,{key:1,class:"rlink f-c60",to:"/seller/refund/detail/"+l.row.refund_id},{default:t(()=>[dl]),_:2},1032,["to"])):w("",!0)])):w("",!0)]),_:1}),e(k,{prop:"payment_name",label:"\u652F\u4ED8\u65B9\u5F0F",width:"150",sortable:""}),e(k,{prop:"order_sn",label:"\u8BA2\u5355\u7F16\u53F7",width:"110",sortable:""}),e(k,{prop:"add_time",label:"\u4E0B\u5355\u65F6\u95F4",width:"100",sortable:""}),e(k,{prop:"pay_time",label:"\u4ED8\u6B3E\u65F6\u95F4",width:"100",sortable:""}),e(k,{prop:"ship_time",label:"\u53D1\u8D27\u65F6\u95F4",width:"100",sortable:""}),e(k,{prop:"finished_time",label:"\u5B8C\u6210\u65F6\u95F4",width:"100",sortable:""}),e(k,{fixed:"right",label:"\u64CD\u4F5C",align:"center",width:"100"},{default:t(l=>[e(Y,{class:"rlink f-blue mb5",to:"/seller/order/detail/"+l.row.order_id},{default:t(()=>[rl]),_:2},1032,["to"]),l.row.pay_time||l.row.ship_time||l.row.finished_time?w("",!0):(r(),c(B,{key:0,class:"mb5",size:"small",onClick:b=>P(l.$index),plain:""},{default:t(()=>[il]),_:2},1032,["onClick"])),l.row.gtype!="service"?(r(),y("div",ul,[l.row.status==20&&l.row.gtype=="material"?(r(),c(B,{key:0,class:"mb5",type:"warning",size:"small",onClick:b=>O(l.$index),plain:""},{default:t(()=>[_l]),_:2},1032,["onClick"])):w("",!0),l.row.status==20&&l.row.gtype=="virtual"?(r(),c(B,{key:1,class:"mb5",type:"warning",size:"small",onClick:b=>O(l.$index),plain:""},{default:t(()=>[pl]),_:2},1032,["onClick"])):w("",!0),l.row.status==30&&l.row.gtype=="material"?(r(),c(B,{key:2,class:"mb5",type:"warning",size:"small",onClick:b=>O(l.$index),plain:""},{default:t(()=>[cl]),_:2},1032,["onClick"])):w("",!0)])):w("",!0),l.row.express_no?(r(),c(Y,{key:2,class:"rlink f-blue block",to:"/seller/order/logistic/"+l.row.order_id},{default:t(()=>[ml]),_:2},1032,["to"])):w("",!0)]),_:1})]),_:1},8,["data"]),h.value.total>0?(r(),y("div",fl,[e(se,{currentPage:h.value.page,"onUpdate:currentPage":o[11]||(o[11]=l=>h.value.page=l),"page-size":h.value.page_size,"onUpdate:page-size":o[12]||(o[12]=l=>h.value.page_size=l),"page-sizes":[10,50,100,200],background:!1,layout:"total, sizes, prev, pager, next",total:h.value.total,onSizeChange:F,onCurrentChange:E,"hide-on-single-page":!1,class:"center"},null,8,["currentPage","page-size","total"])])):w("",!0)])),[[ne,L.value]])]),_:1})]),_:1})]),e($e,{title:"\u53D1\u8D27",visible:D.value,data:v.value[z.value],onClose:$},null,8,["visible","data"]),e(Ce,{title:"\u53D6\u6D88\u8BA2\u5355",visible:M.value,data:v.value[z.value],onClose:$},null,8,["visible","data"]),e(ke)],64)}}};var Ul=ee(gl,[["__scopeId","data-v-520849c3"]]);export{Ul as default};
